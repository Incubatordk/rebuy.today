---
const base = import.meta.env.BASE_URL;
---
<header class="header">
  <div class="container header-inner">
    <a href={base} class="header-logo" aria-label="Rebuy forside">
      <svg class="logo-icon" width="32" height="32" viewBox="0 0 540 350" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path fill="var(--color-brand-pink)" d="M223.017 185.149h12.891V139.05c0-27.094-22.047-49.14-49.148-49.14-27.102 0-49.142 22.046-49.142 49.14v46.098h12.885l-17.724 93.1h107.592zm-36.257-81.77c19.673 0 35.676 16.009 35.676 35.672v45.77h-71.353v-45.77c0-19.667 16.003-35.672 35.677-35.672"/>
        <path fill="var(--color-brand-pink)" d="M138.738 92.274c4.234 0 10.385-.694 15.62-3.958a18.27 18.27 0 0 0 7.042-7.964 41.186 41.186 0 0 0 24.854 8.343c22.901 0 41.53-18.632 41.53-41.525.003-22.9-18.625-41.532-41.526-41.532-22.901 0-41.53 18.631-41.53 41.532 0 2.622.27 5.183.744 7.67h-.061c-12.906 0-19.742 13.881-23.417 21.34-.625 1.263-1.134 2.335-1.57 3.049l-3.648 5.897 6.004 3.47c3.978 2.301 9.94 3.678 15.958 3.678"/>
        <path fill="var(--color-brand-pink)" d="M409.28 220.81c-3.422-39.397-36.544-70.432-76.82-70.432h-6.735v70.432H256.08a7.7 7.7 0 0 0 2.168-5.354 7.721 7.721 0 1 0-7.725 7.728c1.814 0 3.46-.65 4.778-1.694v6.055c0 33.599 21.63 62.178 51.669 72.74-.642-.05-1.267-.19-1.92-.19-13.02 0-23.614 10.589-23.614 23.6 0 13.024 10.597 23.617 23.615 23.617 13.021 0 23.611-10.596 23.611-23.617 0-9.064-5.204-16.867-12.724-20.818 5.327 1.172 10.842 1.827 16.522 1.827a76.84 76.84 0 0 0 16.525-1.827c-7.52 3.955-12.725 11.754-12.725 20.818 0 13.024 10.597 23.617 23.615 23.617 13.018 0 23.611-10.596 23.611-23.617 0-13.011-10.596-23.6-23.61-23.6-.66 0-1.281.136-1.923.19 30.034-10.562 51.665-39.141 51.665-72.74v-6.735zM305.048 333.844c-5.602-.006-10.14-4.548-10.142-10.15.011-5.595 4.547-10.126 10.142-10.132a10.142 10.142 0 1 1 0 20.281m64.974-10.148c-.004 5.6-4.541 10.141-10.142 10.149-5.603-.006-10.143-4.547-10.146-10.15.01-5.596 4.549-10.128 10.146-10.132 5.597 0 10.136 4.535 10.142 10.133M269.12 234.279h126.676a61.467 61.467 0 0 1-.919 5.99c-.109.536-.273 1.051-.396 1.584-.341 1.458-.683 2.92-1.12 4.34-.229.735-.512 1.441-.768 2.172-.407 1.172-.806 2.357-1.288 3.5-.32.78-.693 1.527-1.048 2.285-.488 1.055-.97 2.114-1.51 3.142-.413.758-.86 1.499-1.294 2.243-.567.97-1.134 1.937-1.752 2.872-.488.741-1.004 1.445-1.52 2.165a71.713 71.713 0 0 1-1.973 2.643c-.557.694-1.14 1.363-1.725 2.043a66.425 66.425 0 0 1-2.196 2.407q-.928.967-1.902 1.885a64.885 64.885 0 0 1-7.096 5.857c-.728.515-1.455 1.034-2.206 1.52q-1.387.894-2.821 1.714c-.768.45-1.533.898-2.326 1.307a61.36 61.36 0 0 1-3.018 1.452c-.8.372-1.592.744-2.411 1.086-1.066.43-2.162.812-3.248 1.192-.816.28-1.612.584-2.445.83-1.158.348-2.35.628-3.538.908-.803.191-1.585.42-2.39.584-1.333.263-2.695.437-4.047.621-.697.086-1.377.215-2.077.287a63.015 63.015 0 0 1-6.3.328c-32.843.003-59.968-24.99-63.342-56.957"/>
      </svg>
      <span class="logo-text">Rebuy</span>
    </a>

    <nav class="header-nav" id="main-nav" aria-label="Hovednavigation">
      <a href="#funktioner">Funktioner</a>
      <a href="#saadan-virker-det">Sådan virker det</a>
      <a href="#udtalelser">Udtalelser</a>
      <a href="#download" class="nav-cta">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
        Download appen
      </a>
    </nav>

    <button class="header-menu-btn" id="menu-btn" aria-label="Åbn menu" aria-expanded="false" aria-controls="main-nav">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <line class="menu-line menu-line-1" x1="4" y1="7" x2="20" y2="7"/>
        <line class="menu-line menu-line-2" x1="4" y1="12" x2="20" y2="12"/>
        <line class="menu-line menu-line-3" x1="4" y1="17" x2="20" y2="17"/>
      </svg>
    </button>
  </div>
</header>

<style>
  .header {
    position: sticky;
    top: 0;
    z-index: 100;
    background: rgba(250, 250, 249, 0.85);
    backdrop-filter: blur(16px) saturate(180%);
    -webkit-backdrop-filter: blur(16px) saturate(180%);
    border-bottom: 1px solid rgba(0, 0, 0, 0.04);
  }

  .header-inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 4rem;
  }

  .header-logo {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    color: var(--color-text-primary);
  }

  .logo-text {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    letter-spacing: -0.02em;
  }

  .header-nav {
    display: flex;
    align-items: center;
    gap: var(--space-10);
  }

  .header-nav a {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-secondary);
    transition: color 0.2s ease;
    letter-spacing: 0.01em;
  }

  .header-nav a:hover {
    color: var(--color-text-primary);
  }

  .nav-cta {
    display: inline-flex !important;
    align-items: center;
    gap: var(--space-2);
    background: var(--color-text-primary);
    color: var(--color-bg-card) !important;
    padding: var(--space-2) var(--space-5);
    border-radius: var(--radius-full);
    font-weight: var(--font-weight-semibold) !important;
    transition: transform 0.2s ease, box-shadow 0.2s ease !important;
  }

  .nav-cta:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
    color: var(--color-bg-card) !important;
  }

  .header-menu-btn {
    display: none;
    background: none;
    border: none;
    cursor: pointer;
    color: var(--color-text-primary);
    padding: var(--space-2);
  }

  @media (max-width: 768px) {
    .header-nav {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      flex-direction: column;
      background: var(--color-bg-primary);
      border-bottom: 1px solid var(--color-border);
      padding: var(--space-6);
      gap: var(--space-5);
      box-shadow: var(--shadow-lg);
    }

    .header-nav.nav-open {
      display: flex;
    }

    .header-nav a {
      font-size: var(--font-size-md);
    }

    .header-menu-btn {
      display: block;
    }
  }
</style>

<script>
  const menuBtn = document.getElementById('menu-btn');
  const nav = document.getElementById('main-nav');
  if (menuBtn && nav) {
    menuBtn.addEventListener('click', () => {
      const expanded = menuBtn.getAttribute('aria-expanded') === 'true';
      menuBtn.setAttribute('aria-expanded', String(!expanded));
      nav.classList.toggle('nav-open');
    });
  }
</script>
